@using Microsoft.AspNetCore.Http.Extensions
@using DotNetUniverse.Services.EventData
@using DotNetUniverse.Models
@inject EventDataService EventDataService
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>@ViewData["Title"] - .NET Universe</title>
<meta name="description" content="@(ViewData["OgDescription"] ?? ".NET Universe - 닷넷 개발자를 위한 최대 규모의 컨퍼런스. .NET Dev(닷넷데브) 주최")" />
    
<!-- SEO Meta Tags -->
<meta name="keywords" content="닷넷, .NET, C#, ASP.NET, Blazor, MAUI, 개발자, 컨퍼런스, 닷넷데브, .NET Dev, .NET Universe" />
<meta name="author" content=".NET Dev" />
<meta name="robots" content="index, follow" />
<meta name="googlebot" content="index, follow" />
<link rel="canonical" href="@(ViewData["CanonicalUrl"] ?? Context.Request.GetDisplayUrl())" />
    
<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png" />
    
<!-- Apple Touch Icons -->
<link rel="apple-touch-icon" href="/apple-icon.png" />
<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png" />
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png" />
<link rel="apple-touch-icon-precomposed" href="/apple-icon-precomposed.png" />
    
<!-- Android/Chrome -->
<link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png" />
<link rel="manifest" href="/manifest.json" />
    
<!-- Microsoft Tiles -->
<meta name="msapplication-TileColor" content="#6f42c1" />
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png" />
<meta name="msapplication-config" content="/browserconfig.xml" />
    
<!-- Theme Color -->
<meta name="theme-color" content="#6f42c1" />
    
<!-- Open Graph / Facebook -->
    <meta property="og:type" content="@(ViewData["OgType"] ?? "website")" />
    <meta property="og:title" content="@(ViewData["OgTitle"] ?? ViewData["Title"]) - .NET Universe" />
    <meta property="og:description" content="@(ViewData["OgDescription"] ?? ".NET Universe - 닷넷 개발자를 위한 최대 규모의 컨퍼런스")" />
    <meta property="og:url" content="@(ViewData["OgUrl"] ?? Context.Request.GetDisplayUrl())" />
    @if (ViewData["OgImage"] != null)
    {
        <meta property="og:image" content="@ViewData["OgImage"]" />
    }
    else
    {
        <meta property="og:image" content="/images/og-default.png" />
    }
    <meta property="og:site_name" content=".NET Universe" />
    <meta property="og:locale" content="ko_KR" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="@(ViewData["OgTitle"] ?? ViewData["Title"]) - .NET Universe" />
    <meta name="twitter:description" content="@(ViewData["OgDescription"] ?? ".NET Universe - 닷넷 개발자를 위한 최대 규모의 컨퍼런스")" />
    @if (ViewData["OgImage"] != null)
    {
        <meta name="twitter:image" content="@ViewData["OgImage"]" />
    }
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N72BCCKS');</script>
    <!-- End Google Tag Manager -->
    
    <script type="importmap"></script>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/DotNetUniverse.styles.css" asp-append-version="true" />
    @await RenderSectionAsync("Styles", required: false)
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N72BCCKS"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-purple sticky-top">
            <div class="container">
                <a class="navbar-brand fw-bold" asp-area="" asp-page="/Index">
                    <i class="bi bi-stars me-2"></i>.NET Universe
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain" aria-controls="navbarMain"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse" id="navbarMain">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" asp-area="" asp-page="/About">소개</a>
                        </li>
                        @{
                            var registrationEvents = EventDataService.AllEvents
                                .Where(e => e.Event.Status == EventStatus.Registration || e.Event.Status == EventStatus.CallForParticipation)
                                .ToList();
                        }
                        @foreach (var eventData in registrationEvents)
                        {
                            <li class="nav-item">
                                <a class="nav-link fw-bold text-white" href="@eventData.Url">@eventData.Event.Title</a>
                            </li>
                        }
                        <li class="nav-item">
                            <a class="nav-link" asp-area="" asp-page="/History">지난 행사</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" asp-area="" asp-page="/Sponsorship">후원 안내</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" asp-area="" asp-page="/StudyList">스터디</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white-50" href="https://forum.dotnetdev.kr/" target="_blank" rel="noopener noreferrer">포럼 <i class="bi bi-box-arrow-up-right small"></i></a>
                        </li>
                    </ul>
                    <form class="d-flex" method="get" asp-page="/Search">
                        <div class="input-group">
                            <input class="form-control form-control-sm" type="search" name="Query" 
                                   placeholder="검색..." aria-label="검색" />
                            <button class="btn btn-outline-light btn-sm" type="submit">
                                <i class="bi bi-search"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </nav>
    </header>

    <main role="main">
        @RenderBody()
    </main>

    <footer class="footer-dark py-5">
        <div class="container">
            <div class="row">
                <!-- 왼쪽: 닷넷데브 정보 -->
                <div class="col-lg-5 mb-4 mb-lg-0">
                    <h5 class="text-white fw-bold mb-3">닷넷데브</h5>
                    <p class="text-white-50 small mb-2">
                        <a href="mailto:contact@dotnetdev.kr" class="text-white-50 text-decoration-none">contact@dotnetdev.kr</a> | 사업자등록번호: 504-82-89269
                    </p>
                    <p class="text-white-50 small mb-3">
                        (06193) 서울특별시 강남구 테헤란로 70길 12, H타워 402호 D220, 닷넷데브
                    </p>
                    <div class="mt-3">
                        <a href="https://dotnetdev.kr/" target="_blank" rel="noopener noreferrer" class="text-white-50 text-decoration-none small me-3">닷넷데브 공시</a>
                        <a asp-page="/Sponsorship" class="text-white-50 text-decoration-none small">닷넷데브 후원</a>
                    </div>
                </div>

                <!-- 중간: 닷넷데브 링크 -->
                <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
                    <h6 class="text-white fw-bold mb-3">닷넷데브</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="https://forum.dotnetdev.kr/" target="_blank" rel="noopener noreferrer" class="text-white-50 text-decoration-none">닷넷데브 홈페이지</a></li>
                        <li class="mb-2"><a asp-page="/Index" class="text-white-50 text-decoration-none">.NET Universe 홈페이지</a></li>
                        <li class="mb-2"><a href="https://github.com/dotnetdev-kr/dotnetuniv-websites/issues" target="_blank" rel="noopener noreferrer" class="text-white-50 text-decoration-none">개선 요청 및 문제 제보 <i class="bi bi-box-arrow-up-right small"></i></a></li>
                    </ul>
                </div>

                <!-- 오른쪽: 닷넷 리소스 -->
                <div class="col-lg-2 col-md-6 mb-4 mb-md-0">
                    <h6 class="text-white fw-bold mb-3">닷넷 리소스</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="https://dot.net/" target="_blank" rel="noopener noreferrer" class="text-white-50 text-decoration-none">닷넷 홈페이지</a></li>
                        <li class="mb-2"><a href="https://dotnetfoundation.org/" target="_blank" rel="noopener noreferrer" class="text-white-50 text-decoration-none">닷넷 파운데이션</a></li>
                        <li class="mb-2"><a href="https://learn.microsoft.com/dotnet/" target="_blank" rel="noopener noreferrer" class="text-white-50 text-decoration-none">Microsoft Docs</a></li>
                    </ul>
                </div>

                <!-- 소셜 아이콘 -->
                <div class="col-lg-2 col-md-12 text-lg-end">
                    <div class="social-links d-flex justify-content-lg-end justify-content-start gap-3 fs-4">
                        <a href="https://www.linkedin.com/company/96143755" target="_blank" rel="noopener noreferrer" class="text-white-50" title="LinkedIn"><i class="bi bi-linkedin"></i></a>
                        <a href="https://www.youtube.com/@@dotnetdevkr" target="_blank" rel="noopener noreferrer" class="text-white-50" title="YouTube"><i class="bi bi-youtube"></i></a>
                        <a href="https://blog.dotnetdev.kr" target="_blank" rel="noopener noreferrer" class="text-white-50" title="Medium"><i class="bi bi-medium"></i></a>
                        <a href="https://github.com/dotnetdev-kr" target="_blank" rel="noopener noreferrer" class="text-white-50" title="GitHub"><i class="bi bi-github"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    @await RenderSectionAsync("Scripts", required: false)

    <script src="https://loopback.social/banner.js" defer></script>
</body>
</html>
